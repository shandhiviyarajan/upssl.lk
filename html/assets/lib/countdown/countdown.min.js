"use strict"; $(function () { let e, t, a, s, n, r = -4, i = ".running", l = ".ended", u = 0; function o(e, t, a, s, n) { let u = function (e, t) { var a = new Date(e); let s, n, i; n = new Date, i = n.getTime() + 6e4 * n.getTimezoneOffset(), s = null != t ? new Date : new Date(i + 36e5 * r); var l = a.getTime() - s, u = Math.floor(l / 1e3 / 60 / 60); l -= 1e3 * u * 60 * 60; var o = Math.floor(l / 1e3 / 60); l -= 1e3 * o * 60; var d = Math.floor(l / 1e3); l -= 1e3 * d; var c = Math.floor(u / 24); c > 0 && (u -= 24 * c); return [c, u, o, d] }(t, a), o = s, c = []; if (u[0] < 0 || u[1] < 0 || u[2] < 0 || u[3] < 0) { let t = $("." + e).attr("data-endText"); null != t ? $("." + e).text(t) : ($("." + e + " " + i).css("display", "none"), $("." + e + " " + l).css("display", "flex")) } else null != n && (c = JSON.parse(n)), "false" != c.Days && (u[0] = String(u[0]).padStart(2, "0")), "false" != c.Hours && (u[1] = String(u[1]).padStart(2, "0")), "false" != c.Minutes && (u[2] = String(u[2]).padStart(2, "0")), "false" != c.Seconds && (u[3] = String(u[3]).padStart(2, "0")), $("." + e + " " + i + " timer").length ? ($("." + e + " " + i + " timer .days").text(u[0]), $("." + e + " " + i + " timer .hours").text(u[1]), $("." + e + " " + i + " timer .minutes").text(u[2]), $("." + e + " " + i + " timer .seconds").text(u[3])) : (o = (o = (o = (o = o.replace("(days)", u[0])).replace("(hours)", u[1])).replace("(minutes)", u[2])).replace("(seconds)", u[3]), $("." + e).text(o)), function (e, t) { 1 == t[0] ? d("." + e, "p_days", "Day", "g") : d("." + e, "p_days", "Days", "g"); 1 == t[1] ? d("." + e, "p_hours", "Hour", "g") : d("." + e, "p_hours", "Hours", "g"); 1 == t[2] ? d("." + e, "p_minutes", "Minute", "g") : d("." + e, "p_minutes", "Minutes", "g"); 1 == t[3] ? d("." + e, "p_seconds", "Second", "g") : d("." + e, "p_seconds", "Seconds", "g") }(e, u) } function d(e, t, a, s) { var n = new RegExp(t, s); $(e).each(function () { var e = $(this); e.children().length || e.text(e.text().replace(n, a)) }) } $(".countdown").each(function () { u++, e = $(this).attr("data-Date"), t = $(this).attr("data-fixTime"), n = $(this).attr("data-zeroPad"), a = "d_" + u, $(this).addClass(a), $(this).css("display", "block"), null != t && (e = function (t) { let s = 0; var n = JSON.parse($("." + a).attr("data-fixTime")); null != n.Days && (s += 60 * +n.Days * 24); null != n.Hours && (s += 60 * +n.Hours); null != n.Minutes && (s += +n.Minutes); var r = new Date; return r.setMinutes(r.getMinutes() + s), e = new Date(r) }()), s = $("." + a + " " + i + " timer").length ? $("." + a + " " + i + " timer").text() : $(this).text(), $("." + a + " " + i).css("display", "flex"), $("." + a + " " + l).css("display", "none"), o(a, e, t, s, n), setInterval(o, 1e3, a, e, t, s, n) }) });