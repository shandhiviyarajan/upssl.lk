/*!
 * bootstrap-star-rating v4.1.3
 * http://plugins.krajee.com/star-rating
 *
 * Author: Kartik Visweswaran
 * Copyright: 2013 - 2021, Kartik Visweswaran, Krajee.com
 *
 * Licensed under the BSD 3-Clause
 * https://github.com/kartik-v/bootstrap-star-rating/blob/master/LICENSE.md
 */
!function (t) { "use strict"; "function" == typeof define && define.amd ? define(["jquery"], t) : "object" == typeof module && "object" == typeof module.exports ? t(require("jquery")) : t(window.jQuery) }(function (t) { "use strict"; var e, i; t.fn.ratingLocales = {}, t.fn.ratingThemes = {}, e = { NAMESPACE: ".rating", DEFAULT_MIN: 0, DEFAULT_MAX: 5, DEFAULT_STEP: .5, isEmpty: function (e, i) { return null == e || 0 === e.length || i && "" === t.trim(e) }, getCss: function (t, e) { return t ? " " + e : "" }, addCss: function (t, e) { t.removeClass(e).addClass(e) }, getDecimalPlaces: function (t) { var e = ("" + t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/); return e ? Math.max(0, (e[1] ? e[1].length : 0) - (e[2] ? +e[2] : 0)) : 0 }, applyPrecision: function (t, e) { return parseFloat(t.toFixed(e)) }, handler: function (i, a, n, s, r) { var l = r ? a : a.split(" ").join(e.NAMESPACE + " ") + e.NAMESPACE; s || i.off(l), i.on(l, function (e) { t.proxy(n, self)(e) }) } }, (i = function (e, i) { this.$element = t(e), this._init(i) }).prototype = { constructor: i, _parseAttr: function (t, i) { var a, n, s, r, l = this.$element, o = l.attr("type"); if ("range" === o || "number" === o) { switch (n = i[t] || l.data(t) || l.attr(t), t) { case "min": s = e.DEFAULT_MIN; break; case "max": s = e.DEFAULT_MAX; break; default: s = e.DEFAULT_STEP }a = e.isEmpty(n) ? s : n, r = parseFloat(a) } else r = parseFloat(i[t]); return isNaN(r) ? s : r }, _parseValue: function (t) { var e = parseFloat(t); return isNaN(e) && (e = this.clearValue), !this.zeroAsNull || 0 !== e && "0" !== e ? e : null }, _setDefault: function (t, i) { e.isEmpty(this[t]) && (this[t] = i) }, _initSlider: function (t) { var i = this.$element.val(); this.initialValue = e.isEmpty(i) ? 0 : i, this._setDefault("min", this._parseAttr("min", t)), this._setDefault("max", this._parseAttr("max", t)), this._setDefault("step", this._parseAttr("step", t)), (isNaN(this.min) || e.isEmpty(this.min)) && (this.min = e.DEFAULT_MIN), (isNaN(this.max) || e.isEmpty(this.max)) && (this.max = e.DEFAULT_MAX), (isNaN(this.step) || e.isEmpty(this.step) || 0 === this.step) && (this.step = e.DEFAULT_STEP), this.diff = this.max - this.min, this._setDefault("minThreshold", this.min), this.minThreshold < this.min && (this.minThreshold = this.min), this.minThreshold > this.max && (this.minThreshold = this.max) }, _initHighlight: function (t) { var e, i = this._getCaption(); t || (t = this.$element.val()), e = this.getWidthFromValue(t) + "%", this.$filledStars.width(e), this.cache = { caption: i, width: e, val: t } }, _getContainerCss: function () { return "rating-container" + e.getCss(this.theme, "theme-" + this.theme) + e.getCss(this.rtl, "rating-rtl") + e.getCss(this.size, "rating-" + this.size) + e.getCss(this.animate, "rating-animate") + e.getCss(this.disabled || this.readonly, "rating-disabled") + e.getCss(this.containerClass, this.containerClass) + (this.displayOnly ? " is-display-only" : "") }, _checkDisabled: function () { var t = this.$element, e = this.options; this.disabled = void 0 === e.disabled ? t.attr("disabled") || !1 : e.disabled, this.readonly = void 0 === e.readonly ? t.attr("readonly") || !1 : e.readonly, this.inactive = this.disabled || this.readonly, t.attr({ disabled: this.disabled, readonly: this.readonly }) }, _addContent: function (t, e) { var i = this.$container, a = "clear" === t; return this.rtl ? a ? i.append(e) : i.prepend(e) : a ? i.prepend(e) : i.append(e) }, _generateRating: function () { var i, a, n, s = this.$element; a = this.$container = t(document.createElement("div")).insertBefore(s), e.addCss(a, this._getContainerCss()), this.$rating = i = t(document.createElement("div")).attr("class", "rating-stars").appendTo(a).append(this._getStars("empty")).append(this._getStars("filled")), this.keyboardEnabled && this.$rating.attr("tabindex", this.tabindex), this.$emptyStars = i.find(".empty-stars"), this.$filledStars = i.find(".filled-stars"), this._renderCaption(), this._renderClear(), this._initHighlight(), this._initStarTitles(); this.rtl && (n = Math.max(this.$emptyStars.outerWidth(), this.$filledStars.outerWidth()), this.$emptyStars.width(n)), a.insertBefore(s) }, _getCaption: function () { return this.$caption && this.$caption.length ? this.$caption.html() : this.defaultCaption }, _setCaption: function (t) { this.$caption && this.$caption.length && this.$caption.html(t) }, _renderCaption: function () { var i, a = this.$element.val(), n = this.captionElement ? t(this.captionElement) : ""; if (this.showCaption) { if (i = this.fetchCaption(a), n && n.length) return e.addCss(n, "caption"), n.html(i), void (this.$caption = n); this._addContent("caption", '<div class="caption">' + i + "</div>"), this.$caption = this.$container.find(".caption") } }, _renderClear: function () { var i, a = this.clearElement ? t(this.clearElement) : ""; if (this.showClear) { if (i = this._getClearClass(), a.length) return e.addCss(a, i), a.attr({ title: this.clearButtonTitle }).html(this.clearButton), void (this.$clear = a); this._addContent("clear", '<div class="' + i + '" title="' + this.clearButtonTitle + '">' + this.clearButton + "</div>"), this.$clear = this.$container.find("." + this.clearButtonBaseClass) } }, _getClearClass: function () { return this.clearButtonBaseClass + " " + (this.inactive ? "" : this.clearButtonActiveClass) }, _toggleHover: function (t) { var e, i, a; t && (this.hoverChangeStars && (e = this.getWidthFromValue(this.clearValue), i = t.val <= this.clearValue ? e + "%" : t.width, this.$filledStars.css("width", i)), this.hoverChangeCaption && (a = t.val <= this.clearValue ? this.fetchCaption(this.clearValue) : t.caption) && this._setCaption(a + "")) }, _init: function (i) { var a, n = this, s = n.$element.attr("tabindex", -1).addClass("rating-input"), r = n.minThreshold; return n.options = i, t.each(i, function (t, e) { n[t] = e }), (n.rtl || "rtl" === s.attr("dir")) && (n.rtl = !0, s.attr("dir", "rtl")), n.starClicked = !1, n.clearClicked = !1, n._initSlider(i), n._checkDisabled(), n.displayOnly && (n.inactive = !0, n.showClear = !1, n.hoverEnabled = !1, n.hoverChangeCaption = !1, n.hoverChangeStars = !1), n._generateRating(), n._initEvents(), n._listen(), !e.isEmpty(r) && (e.isEmpty(s.val()) || s.val() < r) && s.val(r), a = n._parseValue(s.val()), s.val(a), s.removeClass("rating-loading") }, _initCaptionTitle: function () { var e; e = this.fetchCaption(this.$element.val()), this.$rating.attr("title", t(e).text()) }, _trigChange: function (t) { this._initStarTitles(), this.$element.trigger("change").trigger("rating:change", t) }, _initEvents: function () { var t = this; t.events = { _getTouchPosition: function (i) { return (e.isEmpty(i.pageX) ? i.originalEvent.touches[0].pageX : i.pageX) - t.$rating.offset().left }, _listenClick: function (t, e) { if (t.stopPropagation(), t.preventDefault(), !0 === t.handled) return !1; e(t), t.handled = !0 }, _noMouseAction: function (e) { return !t.mouseEnabled || !t.hoverEnabled || t.inactive || e && e.isDefaultPrevented() }, initTouch: function (i) { var a, n, s, r, l, o, h, c, u = t.clearValue || 0; ("ontouchstart" in window || window.DocumentTouch && document instanceof window.DocumentTouch) && !t.inactive && (a = i.originalEvent, n = e.isEmpty(a.touches) ? a.changedTouches : a.touches, s = t.events._getTouchPosition(n[0]), "touchend" === i.type ? (t._setStars(s), c = [t.$element.val(), t._getCaption()], t._trigChange(c), t.starClicked = !0) : (l = (r = t.calculate(s)).val <= u ? t.fetchCaption(u) : r.caption, o = t.getWidthFromValue(u), h = r.val <= u ? o + "%" : r.width, t._setCaption(l), t.$filledStars.css("width", h))) }, starClick: function (e) { var i, a; t.events._listenClick(e, function (e) { if (t.inactive) return !1; i = t.events._getTouchPosition(e), t._setStars(i), a = [t.$element.val(), t._getCaption()], t._trigChange(a), t.starClicked = !0 }) }, clearClick: function (e) { t.events._listenClick(e, function () { t.inactive || (t.clear(), t.clearClicked = !0) }) }, starMouseMove: function (e) { var i, a; t.events._noMouseAction(e) || (t.starClicked = !1, i = t.events._getTouchPosition(e), a = t.calculate(i), t._toggleHover(a), t.$element.trigger("rating:hover", [a.val, a.caption, "stars"])) }, starMouseLeave: function (e) { var i; t.events._noMouseAction(e) || t.starClicked || (i = t.cache, t._toggleHover(i), t.$element.trigger("rating:hoverleave", ["stars"])) }, clearMouseMove: function (e) { var i, a, n; !t.events._noMouseAction(e) && t.hoverOnClear && (t.clearClicked = !1, i = '<span class="' + t.clearCaptionClass + '">' + t.clearCaption + "</span>", a = t.clearValue, n = { caption: i, width: t.getWidthFromValue(a) || 0, val: a }, t._toggleHover(n), t.$element.trigger("rating:hover", [a, i, "clear"])) }, clearMouseLeave: function (e) { var i; t.events._noMouseAction(e) || t.clearClicked || !t.hoverOnClear || (i = t.cache, t._toggleHover(i), t.$element.trigger("rating:hoverleave", ["clear"])) }, resetForm: function (e) { e && e.isDefaultPrevented() || t.inactive || t.reset() }, focus: function (e) { t.$rating.focus(), t.$element.trigger("rating:focus") }, blur: function (e) { t.$element.trigger("rating:blur") }, keydown: function (i) { if (!t.inactive && t.keyboardEnabled) { var a = t.$element, n = a.val(), s = !1, r = parseFloat(t.step), l = e.getDecimalPlaces(r), o = t.rtl ? 37 : 39, h = t.rtl ? 39 : 37, c = n ? parseFloat(n) : 0, u = parseInt(i.which || i.keyCode || 0, 10); u === o && c < t.max && (c += r, s = !0), u === h && c > t.minThreshold && (c -= r, s = !0), s && (c = e.applyPrecision(c, l), a.val(c), t._trigChange([c, t._getCaption()]), t.showStars(a.val()), t.$rating.focus()), 37 !== u && 39 !== u || a.trigger("rating:keydown", [c, t._getCaption()]) } } } }, _listen: function () { var i = this, a = i.$element, n = a.closest("form"), s = i.$rating, r = i.$clear, l = i.events, o = e.NAMESPACE, h = "mouseenter" + o + " mouseleave" + o, c = i.$rating.find(".star"); return e.handler(s, "touchstart touchmove touchend", l.initTouch), e.handler(s, "click touchstart", l.starClick), e.handler(s, "mousemove", l.starMouseMove), e.handler(s, "mouseleave", l.starMouseLeave), e.handler(s, "keydown", l.keydown), e.handler(s, "blur", l.blur), i.showClear && r.length && (e.handler(r, "click touchstart", l.clearClick), e.handler(r, "mousemove", l.clearMouseMove), e.handler(r, "mouseleave", l.clearMouseLeave)), n.length && e.handler(n, "reset", l.resetForm, !0), c.off(h).on(h, function (e) { var a = t(this), n = a.index(), s = a.parent().attr("class").slice(0, -1); i.$element.trigger("rating:" + e.type, [n + 1, s, a]) }), e.handler(i.$container, "click", l.focus), a }, _getStars: function (t) { var e, i = '<span class="' + t + '-stars">'; for (e = 1; e <= this.stars; e++)i += '<span class="star">' + this[t + "Star"] + "</span>"; return i + "</span>" }, _initStarTitles: function (e) { if (this.showCaptionAsTitle) this._initCaptionTitle(); else { var i, a = this.starTitles; (i = function (i) { var n = 1; i.each(function () { var i, s, r = t(this); "function" == typeof a ? (i = n === Math.floor(e) ? e : n, s = a(i)) : s = a[n], s && r.attr({ title: s }), n++ }) })(this.$emptyStars.find(".star")), i(this.$filledStars.find(".star")) } }, _setStars: function (t) { var e = arguments.length ? this.calculate(t) : this.calculate(), i = this.$element, a = this._parseValue(e.val); return i.val(a), this.$filledStars.css("width", e.width), this._setCaption(e.caption), this.cache = e, this._initStarTitles(a), i }, showStars: function (t) { var e = this._parseValue(t); return this.$element.val(e), this._setStars() }, calculate: function (t) { var i = e.isEmpty(this.$element.val()) ? 0 : this.$element.val(), a = arguments.length ? this.getValueFromPosition(t) : i, n = this.fetchCaption(a), s = this.getWidthFromValue(a); return { caption: n, width: s += "%", val: a } }, getValueFromPosition: function (t) { var i, a, n = e.getDecimalPlaces(this.step), s = this.$rating.width(); return a = this.diff * t / (s * this.step), a = this.rtl ? Math.floor(a) : Math.ceil(a), i = e.applyPrecision(parseFloat(this.min + a * this.step), n), i = Math.max(Math.min(i, this.max), this.minThreshold), this.rtl ? this.max - i : i }, getWidthFromValue: function (t) { var e, i, a = this.min, n = this.max, s = this.$emptyStars; return !t || t <= this.min || a === n ? 0 : (t = Math.max(t, this.minThreshold), e = (i = s.outerWidth()) ? s.width() / i : 1, t >= n ? 100 : (t - a) * e * 100 / (n - a)) }, fetchCaption: function (t) { var i, a, n, s = parseFloat(t) || this.clearValue, r = this.starCaptions, l = this.starCaptionClasses, o = this.getWidthFromValue(s); return s && s !== this.clearValue && (s = e.applyPrecision(s, e.getDecimalPlaces(this.step))), n = "function" == typeof l ? l(s, o) : l[s], a = "function" == typeof r ? r(s, o) : r[s], i = e.isEmpty(a) ? this.defaultCaption.replace(/\{rating}/g, s) : a, '<span class="' + (e.isEmpty(n) ? this.clearCaptionClass : n) + '">' + (s === this.clearValue ? this.clearCaption : i) + "</span>" }, destroy: function () { var i = this.$element; return e.isEmpty(this.$container) || this.$container.before(i).remove(), t.removeData(i.get(0)), i.off("rating").removeClass("rating rating-input") }, create: function (t) { var e = t || this.options || {}; return this.destroy().rating(e) }, clear: function () { var t = '<span class="' + this.clearCaptionClass + '">' + this.clearCaption + "</span>"; return this.inactive || this._setCaption(t), this.showStars(this.clearValue).trigger("change").trigger("rating:clear") }, reset: function () { return this.showStars(this.initialValue).trigger("rating:reset") }, update: function (t) { return arguments.length ? this.showStars(t) : this.$element }, refresh: function (e) { var i = this.$element; return e ? this.destroy().rating(t.extend(!0, this.options, e)).trigger("rating:refresh") : i } }, t.fn.rating = function (a) { var n = Array.apply(null, arguments), s = []; switch (n.shift(), this.each(function () { var r, l = t(this), o = l.data("rating"), h = "object" == typeof a && a, c = h.theme || l.data("theme"), u = h.language || l.data("language") || "en", d = {}, g = {}; o || (c && (d = t.fn.ratingThemes[c] || {}), "en" === u || e.isEmpty(t.fn.ratingLocales[u]) || (g = t.fn.ratingLocales[u]), r = t.extend(!0, {}, t.fn.rating.defaults, d, t.fn.ratingLocales.en, g, h, l.data()), o = new i(this, r), l.data("rating", o)), "string" == typeof a && s.push(o[a].apply(o, n)) }), s.length) { case 0: return this; case 1: return void 0 === s[0] ? this : s[0]; default: return s } }, t.fn.rating.defaults = { theme: "bi-svg", language: "en", stars: 5, tabindex: 0, keyboardEnabled: !0, mouseEnabled: !0, containerClass: "", size: "md", animate: !0, displayOnly: !1, rtl: !1, showClear: !0, showCaption: !0, starCaptionClasses: { .5: "label label-danger badge bg-danger", 1: "label label-danger badge bg-danger", 1.5: "label label-warning badge bg-warning", 2: "label label-warning badge bg-warning", 2.5: "label label-info badge bg-info", 3: "label label-info badge bg-info", 3.5: "label label-primary badge bg-primary", 4: "label label-primary badge bg-primary", 4.5: "label label-success badge bg-success", 5: "label label-success badge bg-success" }, filledStar: '<span class="bi-icon bi-icon-star"></span>', emptyStar: '<span class="bi-icon bi-icon-star"></span>', clearButton: '<span class="bi-icon-clear"></span>', clearButtonBaseClass: "clear-rating", clearButtonActiveClass: "clear-rating-active", clearCaptionClass: "caption-badge caption-secondary", clearValue: null, captionElement: null, clearElement: null, showCaptionAsTitle: !1, hoverEnabled: !0, hoverChangeCaption: !0, hoverChangeStars: !0, hoverOnClear: !0, zeroAsNull: !0 }, t.fn.ratingLocales.en = { defaultCaption: "{rating} Stars", starCaptions: { .5: "Half Star", 1: "One Star", 1.5: "One & Half Star", 2: "Two Stars", 2.5: "Two & Half Stars", 3: "Three Stars", 3.5: "Three & Half Stars", 4: "Four Stars", 4.5: "Four & Half Stars", 5: "Five Stars" }, starTitles: { 1: "One Star", 2: "Two Stars", 3: "Three Stars", 4: "Four Stars", 5: "Five Stars" }, clearButtonTitle: "Clear", clearCaption: "Not Rated" }, t.fn.rating.Constructor = i, t(document).ready(function () { var e = t("input.rating"); e.length && e.removeClass("rating-loading").addClass("rating-loading").rating() }) });